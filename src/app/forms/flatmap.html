<div class="box box-info box-solid">
    <div class="box-header with-border">
        <h3 class="box-title">
            Array Manipulation
        </h3>
    </div>
    <div class="box-body">
        <p>Responses using arrays need a special treatment. Add here your desired
            manipulations</p>

        <div class="form-group row">
            <div class="col-xs-3">
                <select class="form-control" ng-model="flatmap_type">
                    <option value="move">Move</option>
                    <option value="del">Delete </option>
                    <option value="append">Append </option>
                </select>
                <label>Operation type</label>
            </div>
            <div class="col-xs-3">
                <input type="text" class="form-control" placeholder="object.*.uninteresting" ng-model="flatmap_origin">
                <label>Original object</label>
            </div>
            <div class="col-xs-3" ng-show="flatmap_type!='del'">
                <input type="text" class="form-control" placeholder="object.*.new_element" ng-model="flatmap_dest">
                <label>Target object</label>
            </div>
            <div class="col-xs-3">
                <button type="button" class="btn btn-success"
                    ng-click="addFlatmap(endpoint_index,backend_index,flatmap_type,flatmap_origin,flatmap_dest)">
                    Add operation
                </button>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-md-12">
                <ul class="list-unstyled">
                    <li ng-repeat="(flatmap_index,flatmap_value) in backend.extra_config['proxy'].flatmap_filter">
                        <a class="badge badge-remove"
                            ng-click="deleteFlatmap(flatmap_index,endpoint_index, backend_index)"><i
                                class="fa fa-times"></i>
                            {{ flatmap_value.type }} <i class="fa fa-arrow-right"></i>
                            {{ flatmap_value.args }}</a>
                    </li>
                </ul>
            </div>
        </div>
        <span class="help-block">You can rename any attributes returned by the
            backend and use a name more convenient for you. <a
                href="https://www.krakend.io/docs/backends/flatmap/">Documentation</a></span>
    </div>


</div>