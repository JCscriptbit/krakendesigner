<div class="box box-info box-solid">
	<div class="box-header with-border">
		<h3 class="box-title"><input type="checkbox" ng-checked="isMiddlewareEnabled()" ng-click="toggleMiddleware()">
			Google Cloud Service Account
		</h3>
		<div class="pull-right" ng-include src="'/src/app/layout/docs.html'"
			ng-repeat="doc in [{'ee': true, 'url':'/authentication/gcloud/'}]"></div>
	</div>
	<div class="box-body">
		<p ng-hide="isMiddlewareEnabled()">Enable a 2-legged OAuth2 flow, making the gateway request a token to an
			authorization server before reaching the backend's protected resources. The token refreshes when needed.</p>
		<div ng-if="isMiddlewareEnabled()">
			<div class="form-group">
				<div class="col-md-12">
					<label class="control-label" for="data.extra_config[config_namespace].audience">Audience</label>
					<input class="form-control" ng-model="data.extra_config[config_namespace].audience"
						name="data.extra_config[config_namespace].audience"
						placeholder="https://hello-there.a.run.app" type="text">
					<span class="help-block">The audience in GCP looks like an URL, and contains the destination service
						you will ask a token for. Most of the times this URL will match exactly with the host entry.
						Credentials are taken from the environment variable <code>GOOGLE_APPLICATION_CREDENTIALS</code>,
						which Cloud Run passes automatically.</span>
				</div>
			</div>

		</div>
	</div>
</div>