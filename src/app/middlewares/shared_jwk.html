<div class="box box-info box-solid">
	<div class="box-header with-border">
		<h3 class="box-title">
			<input type="checkbox" ng-checked="isMiddlewareEnabled()" ng-click="toggleMiddleware()"> JWK Shared Cache
		</h3>
		<div class="pull-right" ng-include src="'/src/app/layout/docs.html'"
			ng-repeat="doc in [{'ee': true, 'url':'/authorization/jwk-caching/'}]"></div>
	</div>
	<div class="box-body">
		<p ng-if="!isMiddlewareEnabled()">If you have a lot of endpoints, each of them will need to retrieve the JWK URL to cache it. You can add a shared JWK cache where one endpoint call will enable the cache for another one using the same origin URL.</p>
		<div ng-if="isMiddlewareEnabled()">
			<div class="form-group"
				ng-class="validator.isInteger(data.extra_config[config_namespace].shared_cache_duration) ? '' : 'has-error'">
				<label class="control-label">Shared cache duration</label>
				<div class="input-group">
					<input class="form-control" ng-model="data.extra_config[config_namespace].shared_cache_duration"
						id="data.extra_config[config_namespace].shared_cache_duration"
						name="data.extra_config[config_namespace].shared_cache_duration" type="number">
					<div class="input-group-addon">seconds</div>
				</div>
				<span class="help-block">The cache duration in seconds for the JWK client retrieving the <code>jwk_url</code>. The endpoint must enable the cache option in order to use this cache. The time you set here depends on your key rotation time.
				</span>
			</div>
		</div>
	</div>
</div>