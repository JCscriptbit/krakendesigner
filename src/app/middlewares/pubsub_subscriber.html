<div class="box box-info box-solid">
	<div class="box-header with-border">
		<h3 class="box-title">
			<input type="checkbox" ng-checked="isMiddlewareEnabled()" ng-click="toggleMiddleware()"> Pub/Sub: Subscriber
		</h3>
		<div class="pull-right" ng-include src="'/src/app/layout/docs.html'" ng-repeat="doc in [{'ee': false, 'url':'/backends/pubsub/'}]"></div>
	</div>
	<div class="box-body">
		<p ng-if="!isMiddlewareEnabled()">Read events from a queue</p>
		<div ng-if="isMiddlewareEnabled()">
			<div class="row">
				<div class="col-md-12">
					<label>Subscription type</label>
					<select class="form-control" ng-model="schema_example"
						ng-change="data.extra_config[config_namespace]['subscription_url'] = schema_example">
						<option ng-repeat="(name,example) in constants.pubsub_schemas" value="{{ example }}">{{ name }}
						</option>
					</select>
					<span class="help-block">Click on a subscription_url type to load an example URL.</span>
					<label>Subscription URL</label>
					<input type="text" ng-model="data.extra_config[config_namespace]['subscription_url']"
						class="form-control" placeholder="schema://url" />
					<span class="help-block">The subscription URL. See <a
							href="https://www.krakend.io/docs/backends/pubsub/">the pub/sub documentation</a> for all
						supported protocols</span>
				</div>
			</div>
		</div>
	</div>
</div>