<div class="box box-info box-solid">
    <div class="box-header with-border">
        <h3 class="box-title">
            <input type="checkbox" ng-checked="isMiddlewareEnabled()" ng-click="toggleMiddleware()"> Documentation (OpenAPI)
        </h3>
        <div class="pull-right" ng-include src="'/src/app/layout/docs.html'" ng-repeat="doc in [{'ee': true, 'url':'/endpoints/openapi/'}]"></div>
    </div>
    <div class="box-body">
        <p ng-if=" !isMiddlewareEnabled()">The OpenAPI or Swagger documentation is automatically generated by the
            KrakenD Enterprise binary when you use the <code>krakend generate openapi</code> command.</p>
        <div ng-if="isMiddlewareEnabled()">
            <p>General OpenAPI information for your developers. <strong>All fields are optional</strong>.</p>
            <div class="form-group row">
                <div class="col-md-4">
                    <label>Summary or Title</label>
                    <input type="text" ng-model="data.extra_config[config_namespace].summary"
                        placeholder="Short description" class="form-control" />
                    <span class="help-block">The title or summary of this endpoint</span>
                </div>
                <div class="col-md-8">
                    <label>Description</label>
                    <input type="text" ng-model="data.extra_config[config_namespace].description" class="form-control"
                        placeholder="This is an API. Read more at [http://blah](http://blah.blah.com)" />
                    <span class="help-block">Long description for this endpoint</span>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-md-4">
                    <label class="control-label">Tags</label>
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="foo" ng-model="tags">
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-success" ng-click="addTermToList(tags,'tags')">
                                <i class="fa fa-plus"></i> Add tag
                            </button>
                        </div>
                    </div>
                    <span class="help-block">OpenAPI segments the endpoints in different tags</span>
                    <ul class="list-inline">
                        <li ng-repeat="(index,tag) in data.extra_config[config_namespace].tags">
                            <a class="badge badge-remove" ng-click="deleteIndexFromList(index,'tags')"><i
                                    class="fa fa-times"></i>
                                {{ tag }}</a>
                        </li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <label class="control-label">Audience</label>
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="foo" ng-model="audience">
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-success" ng-click="addTermToList(audience,'audience')">
                                <i class="fa fa-plus"></i> Add audience
                            </button>
                        </div>
                    </div>
                    <span class="help-block">To which audiences you will document this endpoint (e.g.: <code>silver</code> if you have plans like gold, silver, bronze.</span>
                    <ul class="list-inline">
                        <li ng-repeat="(index,aud) in data.extra_config[config_namespace].audience">
                            <a class="badge badge-remove" ng-click="deleteIndexFromList(index,'audience')"><i
                                    class="fa fa-times"></i>
                                {{ aud }}</a>
                        </li>
                    </ul>

                </div>
                <div class="col-md-4">
                    <label>Global settings</label>
                    <p class="checkbox"><a href="/#!/openapi">Go to OpenAPI settings</a></p>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-md-12">
                    <label class="control-label">Example</label>
                    <textarea json-formatter class="form-control" syntax="json_syntax" ng-model="data.extra_config[config_namespace].example"></textarea>
                    <span class="help-block">Write an example response in JSON format to show as an example in the documentation</span>
                    <p ng-show="json_syntax.length" class="badge label-danger">
                        <i class="fa fa-warning"></i> Syntax error -
                        {{json_syntax}}
                    </p>
                </div>

            </div>
        </div>
    </div>
</div>